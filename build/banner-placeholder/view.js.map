{"version":3,"file":"banner-placeholder/view.js","mappings":";;;;;AAAA,MAAMA,MAAM,GAAGC,QAAQ,CAACC,aAAa,CACpC,kDACD,CAAC;AAED,IAAIF,MAAM,EAAE;EACX,MAAMG,gBAAgB,GAAGH,MAAM,CAACI,YAAY,CAAC,+BAA+B,CAAC;EAC7E,MAAMC,UAAU,GAAGL,MAAM,CAACI,YAAY,CAAC,yBAAyB,CAAC;EAEjE,MAAME,UAAU,GAAGA,CAAA,KAAM;IACxB;IACAN,MAAM,CAACO,KAAK,CAACC,OAAO,GAAG,OAAO;;IAE9B;IACA,IAAI,CAACL,gBAAgB,EAAE;MACtB;IACD;IACAF,QAAQ,CAACQ,MAAM,GAAI,GAAEJ,UAAW,eAAcK,sBAAsB,CACnEP,gBACD,CAAE,UAAS;EACZ,CAAC;EAED,MAAMO,sBAAsB,GAAIP,gBAAgB,IAAK;IACpD,IAAIA,gBAAgB,KAAK,SAAS,IAAIA,gBAAgB,KAAK,EAAE,EAAE;MAC9D,OAAO,EAAE;IACV;;IAEA;IACA,OAAOA,gBAAgB,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EACvC,CAAC;;EAED;EACA,IAAIA,gBAAgB,EAAE;IACrB,MAAMQ,WAAW,GAAGV,QAAQ,CAACQ,MAAM,CAACG,OAAO,CAC1C,IAAIC,MAAM,CACT,kBAAkB,GACjBC,kBAAkB,CAACT,UAAU,CAAC,CAACO,OAAO,CAAC,aAAa,EAAE,MAAM,CAAC,GAC7D,6BACF,CAAC,EACD,IACD,CAAC;IAED,IAAID,WAAW,KAAK,GAAG,EAAE;MACxBL,UAAU,CAAC,CAAC;IACb;EACD,CAAC,MAAM;IACNA,UAAU,CAAC,CAAC;EACb;;EAEA;EACA,MAAMS,WAAW,GAAGf,MAAM,CAACE,aAAa,CACvC,kDACD,CAAC;EAED,IAAIa,WAAW,EAAE;IAChBA,WAAW,CAACC,gBAAgB,CAAC,OAAO,EAAE,MAAM;MAC3ChB,MAAM,CAACO,KAAK,CAACC,OAAO,GAAG,MAAM;IAC9B,CAAC,CAAC;EACH;AACD,C","sources":["webpack://block-banner-plugin/./src/banner-placeholder/view.js"],"sourcesContent":["const banner = document.querySelector(\n\t\".wp-block-block-banner-plugin-banner-placeholder\",\n);\n\nif (banner) {\n\tconst cookieExpiration = banner.getAttribute(\"data-banner-cookie-expiration\");\n\tconst cookieName = banner.getAttribute(\"data-banner-cookie-name\");\n\n\tconst showBanner = () => {\n\t\t// Add the banner to the top of the page.\n\t\tbanner.style.display = \"block\";\n\n\t\t// Set the cookie.\n\t\tif (!cookieExpiration) {\n\t\t\treturn;\n\t\t}\n\t\tdocument.cookie = `${cookieName}=1; max-age=${filterCookieExpiration(\n\t\t\tcookieExpiration,\n\t\t)}; path=/`;\n\t};\n\n\tconst filterCookieExpiration = (cookieExpiration) => {\n\t\tif (cookieExpiration === \"session\" || cookieExpiration === \"\") {\n\t\t\treturn \"\";\n\t\t}\n\n\t\t// Convert cookie days to seconds\n\t\treturn cookieExpiration * 24 * 60 * 60;\n\t};\n\n\t// Check if the cookie exists.\n\tif (cookieExpiration) {\n\t\tconst cookieValue = document.cookie.replace(\n\t\t\tnew RegExp(\n\t\t\t\t\"(?:(?:^|.*;\\\\s*)\" +\n\t\t\t\t\tencodeURIComponent(cookieName).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") +\n\t\t\t\t\t\"\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$\",\n\t\t\t),\n\t\t\t\"$1\",\n\t\t);\n\n\t\tif (cookieValue !== \"1\") {\n\t\t\tshowBanner();\n\t\t}\n\t} else {\n\t\tshowBanner();\n\t}\n\n\t// Add an event listener to the close button.\n\tconst closeButton = banner.querySelector(\n\t\t\"button.wp-block-block-banner-plugin-close-button\",\n\t);\n\n\tif (closeButton) {\n\t\tcloseButton.addEventListener(\"click\", () => {\n\t\t\tbanner.style.display = \"none\";\n\t\t});\n\t}\n}\n"],"names":["banner","document","querySelector","cookieExpiration","getAttribute","cookieName","showBanner","style","display","cookie","filterCookieExpiration","cookieValue","replace","RegExp","encodeURIComponent","closeButton","addEventListener"],"sourceRoot":""}