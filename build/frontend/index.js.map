{"version":3,"file":"frontend/index.js","mappings":";;;;;AAAA,MAAMA,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,sBAAsB,CAAC;AAE7D,IAAIF,MAAM,EAAE;EACX,MAAMG,gBAAgB,GAAGH,MAAM,CAACI,YAAY,CAAC,+BAA+B,CAAC;EAC7E,MAAMC,UAAU,GAAGL,MAAM,CAACI,YAAY,CAAC,yBAAyB,CAAC;EAEjE,MAAME,UAAU,GAAGA,CAAA,KAAM;IACxB;IACA,MAAMC,SAAS,GAAGN,QAAQ,CAACC,aAAa,CAAC,iBAAiB,CAAC;IAC3DK,SAAS,CAACC,YAAY,CAACR,MAAM,EAAEO,SAAS,CAACE,UAAU,CAAC;IACpDT,MAAM,CAACU,KAAK,CAACC,OAAO,GAAG,OAAO;;IAE9B;IACA,IAAI,CAACR,gBAAgB,EAAE;MACtB;IACD;IACAF,QAAQ,CAACW,MAAM,GAAI,GAAEP,UAAW,eAAcQ,sBAAsB,CACnEV,gBACD,CAAE,UAAS;EACZ,CAAC;EAED,MAAMU,sBAAsB,GAAIV,gBAAgB,IAAK;IACpD,IAAIA,gBAAgB,KAAK,SAAS,IAAIA,gBAAgB,KAAK,EAAE,EAAE;MAC9D,OAAO,EAAE;IACV;;IAEA;IACA,OAAOA,gBAAgB,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;EACvC,CAAC;;EAED;EACA,IAAIA,gBAAgB,EAAE;IACrB,MAAMW,WAAW,GAAGb,QAAQ,CAACW,MAAM,CAACG,OAAO,CAC1C,IAAIC,MAAM,CACT,kBAAkB,GACjBC,kBAAkB,CAACZ,UAAU,CAAC,CAACU,OAAO,CAAC,aAAa,EAAE,MAAM,CAAC,GAC7D,6BACF,CAAC,EACD,IACD,CAAC;IAED,IAAID,WAAW,KAAK,GAAG,EAAE;MACxBR,UAAU,CAAC,CAAC;IACb;EACD;;EAEA;EACA,MAAMY,WAAW,GAAGlB,MAAM,CAACE,aAAa,CACvC,kDACD,CAAC;EAED,IAAIgB,WAAW,EAAE;IAChBA,WAAW,CAACC,gBAAgB,CAAC,OAAO,EAAE,MAAM;MAC3CnB,MAAM,CAACU,KAAK,CAACC,OAAO,GAAG,MAAM;IAC9B,CAAC,CAAC;EACH;AACD,C","sources":["webpack://block-banner-plugin/./src/frontend/index.js"],"sourcesContent":["const banner = document.querySelector(\".block-banner-plugin\");\n\nif (banner) {\n\tconst cookieExpiration = banner.getAttribute(\"data-banner-cookie-expiration\");\n\tconst cookieName = banner.getAttribute(\"data-banner-cookie-name\");\n\n\tconst showBanner = () => {\n\t\t// Add the banner to the top of the page.\n\t\tconst container = document.querySelector(\".wp-site-blocks\");\n\t\tcontainer.insertBefore(banner, container.firstChild);\n\t\tbanner.style.display = \"block\";\n\n\t\t// Set the cookie.\n\t\tif (!cookieExpiration) {\n\t\t\treturn;\n\t\t}\n\t\tdocument.cookie = `${cookieName}=1; max-age=${filterCookieExpiration(\n\t\t\tcookieExpiration,\n\t\t)}; path=/`;\n\t};\n\n\tconst filterCookieExpiration = (cookieExpiration) => {\n\t\tif (cookieExpiration === \"session\" || cookieExpiration === \"\") {\n\t\t\treturn \"\";\n\t\t}\n\n\t\t// Convert cookie days to seconds\n\t\treturn cookieExpiration * 24 * 60 * 60;\n\t};\n\n\t// Check if the cookie exists.\n\tif (cookieExpiration) {\n\t\tconst cookieValue = document.cookie.replace(\n\t\t\tnew RegExp(\n\t\t\t\t\"(?:(?:^|.*;\\\\s*)\" +\n\t\t\t\t\tencodeURIComponent(cookieName).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") +\n\t\t\t\t\t\"\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$\",\n\t\t\t),\n\t\t\t\"$1\",\n\t\t);\n\n\t\tif (cookieValue !== \"1\") {\n\t\t\tshowBanner();\n\t\t}\n\t}\n\n\t// Add an event listener to the close button.\n\tconst closeButton = banner.querySelector(\n\t\t\"button.wp-block-block-banner-plugin-close-button\",\n\t);\n\n\tif (closeButton) {\n\t\tcloseButton.addEventListener(\"click\", () => {\n\t\t\tbanner.style.display = \"none\";\n\t\t});\n\t}\n}\n"],"names":["banner","document","querySelector","cookieExpiration","getAttribute","cookieName","showBanner","container","insertBefore","firstChild","style","display","cookie","filterCookieExpiration","cookieValue","replace","RegExp","encodeURIComponent","closeButton","addEventListener"],"sourceRoot":""}